(function(){"use strict";var t={1438:function(t,e,s){var a=s(5471),n=s(2915),i=function(){var t=this,e=t._self._c;return e(n.A,[e("BookingPage")],1)},o=[],l=s(8232),r=s(8047),c=s(1231),u=s(8856),d=s(9975),m=s(6684),p=s(3812),h=s(2369),b=s(9194),f=s(3016),y=s(1904),g=s(2031),v=function(){var t=this,e=t._self._c;return e(u.A,[e(r.A,{attrs:{flat:"","max-width":"600px"}},[4!==t.step?e(p.A,{attrs:{height:"200px",cover:"",position:"top",src:s(4137)}}):t._e(),e("div",{staticClass:"text-center font-weight-bold text-h5"},[t._v("Tamashi Ramen")]),e(d.A,{staticClass:"my-2"}),e(b.A,{attrs:{dense:""},model:{value:t.step,callback:function(e){t.step=e},expression:"step"}},[e(y.vY,{attrs:{dense:""}},t._l(t.steps,(function(s,a){return e("div",{key:a},[e(g.A,{staticClass:"step",class:{"active ":t.step===s.step,completed:t.step>s.step},attrs:{complete:t.step>s.step,step:s.step,editable:t.step>s.step},on:{click:function(e){return t.goToStep(s.step)}}},[s.value?t._e():e(m.A,{attrs:{left:"",color:t.step>=s.step?"white":"",size:"12px"}},[t._v(t._s(s.icon))]),s.value||t.step!==s.step?e("span",[t._v(t._s(s.value))]):e("span",[t._v(t._s(s.label))])],1)],1)})),0),e(y.WV,[e(d.A,{staticClass:"my-2"}),e(f.A,{attrs:{step:"1"}},[e(h.A,[e(c.A,{attrs:{cols:"12"}},[t.enabledDays.length>0?e("the-calender",{attrs:{"on-day-click":t.onDateChange,"show-outside-days":!1,eventDays:[{date:"2024/05/29",promotionText:"50%"},{date:"2024/05/28",promotionText:"20%"},{date:"2024/05/30",promotionText:"30%"},{date:"2024/05/31",promotionText:"Sale"}],"enabled-days":t.enabledDays,"disabled-days":["30/05/2024"]}}):t._e()],1)],1)],1),e(f.A,{attrs:{step:"2"}},[e(h.A,[e(c.A,{staticClass:"pb-2 d-flex align-center justify-center",attrs:{cols:"12"}},[e(m.A,{staticClass:"mr-2",attrs:{left:""}},[t._v("mdi-account-outline")]),e("h3",{staticClass:"my-0"},[t._v("Numero di Persone")])],1)],1),e(d.A,{staticClass:"my-3"}),e("div",{staticClass:"d-flex flex-wrap justify-center"},t._l(t.numberOfPersons,(function(s,a){return e(l.A,{key:a,staticClass:"personBtn",class:{selected:t.isSelectedNumberOfPersons(s)},attrs:{outlined:""},on:{click:function(e){return t.selectNumberOfPersons(s)}}},[e("span",{staticClass:"px-sm-5"},[t._v(t._s(s))])])})),1),e(d.A,{staticClass:"my-3"}),e(h.A,[e(c.A,{staticClass:"pb-2 d-flex align-center justify-center",attrs:{cols:"12"}},[e(m.A,{staticClass:"mr-2",attrs:{left:""}},[t._v("mdi-account-outline")]),e("h3",{staticClass:"my-0"},[t._v("Numero di bambni")])],1)],1),e(d.A,{staticClass:"my-3"}),e("div",{staticClass:"d-flex flex-wrap justify-center justify-sm-space-around"},t._l(t.numberOfChildren,(function(s,a){return e(l.A,{key:a,staticClass:"personBtn",class:{selected:t.isSelectedNumberOfChildren(s)},attrs:{outlined:""},on:{click:function(e){return t.selectNumberOfChildren(s)}}},[e("span",{staticClass:"px-sm-5"},[t._v(t._s(s))])])})),1)],1),e(f.A,{attrs:{step:"3"}},[t.locations?.length>1?e("div",[e(h.A,[e(c.A,{staticClass:"pb-2 d-flex align-center justify-center",attrs:{cols:"12"}},[e(m.A,{staticClass:"mr-2",attrs:{left:""}},[t._v("mdi-map-marker")]),e("h3",{staticClass:"my-0"},[t._v("Scegli la sala")])],1)],1),e(d.A,{staticClass:"my-3"}),e("div",{staticClass:"d-flex flex-wrap justify-center"},t._l(t.locations,(function(s){return e(l.A,{key:s.id,staticClass:"font-weight-bold",class:{selected:t.isSelectedLocation(s.id)},attrs:{outlined:"",large:""},on:{click:function(e){return t.selectLocation(s.id)}}},[t._v(t._s(s.name))])})),1),e(d.A,{staticClass:"my-3"})],1):t._e(),e(h.A,{attrs:{id:"time"}},[e(c.A,{staticClass:"pb-2 d-flex align-center justify-center",attrs:{cols:"12"}},[e(m.A,{staticClass:"mr-2",attrs:{left:""}},[t._v("mdi-clock-outline")]),e("h3",{staticClass:"my-0"},[t._v("Scegli l'orario")])],1)],1),e(d.A,{staticClass:"my-3"}),t.lunchTimes.length?e(h.A,[e(c.A,{staticClass:"mb-2",attrs:{cols:"12"}},[e("h3",{staticClass:"mb-3"},[t._v("Pranzo")]),e(h.A,{staticClass:"justify-sm-start justify-space-around"},t._l(t.lunchTimes,(function(s){return e(c.A,{key:s.time,attrs:{cols:"auto"}},[e(l.A,{staticClass:"position-relative",class:{selected:t.isSelectedTime(s.time)},attrs:{large:"",outlined:""},on:{click:function(e){return t.selectTime(s)}}},[e("span",{staticClass:"px-4"},[t._v(t._s(s.time))]),e("div",{staticClass:"time-label",class:t.getStatusClass(s.status)},[t._v(t._s(s.status))])])],1)})),1)],1)],1):t._e(),t.lunchTimes.length?e(d.A,{staticClass:"my-3"}):t._e(),t.dinnerTimes.length?e(h.A,[e(c.A,{staticClass:"mb-2",attrs:{cols:"12"}},[e("h3",{staticClass:"mb-3"},[t._v("Cena")]),e(h.A,{staticClass:"justify-sm-start justify-space-around"},t._l(t.dinnerTimes,(function(s){return e(c.A,{key:s.time,attrs:{cols:"auto"}},[e(l.A,{staticClass:"position-relative",class:{selected:t.isSelectedTime(s.time)},attrs:{large:"",outlined:""},on:{click:function(e){return t.selectTime(s)}}},[e("span",{staticClass:"px-4"},[t._v(t._s(s.time))]),e("div",{staticClass:"time-label",class:t.getStatusClass(s.status)},[t._v(t._s(s.status))])])],1)})),1)],1)],1):t._e()],1),e(f.A,{attrs:{step:"4"}},[e("information-tabs-component"),e(h.A,[e(c.A,{staticClass:"text-center mt-3",attrs:{cols:"12"}},[e(l.A,{attrs:{color:"primary",block:""},on:{click:t.submitForm}},[t._v("Prenota")])],1)],1)],1)],1)],1)],1)],1)},D=[],A=(s(3375),s(9225),s(3972),s(9209),s(5714),s(7561),s(6197),s(5147)),_=s(877),C=s(9330),S=s(5310),k=s(895),T=s(8388),x=s(4636),w=function(){var t=this,e=t._self._c;return e(r.A,{attrs:{flat:""}},[e(T.A,{attrs:{"align-tabs":"start"},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[e(S.A,[t._v("Dati")]),e(S.A,[t._v("FAQ")]),e(S.A,[t._v("Parking")]),e(S.A,[t._v("Naviga")]),e(k.A,[e(_.A,{staticClass:"pa-1 d-flex flex-column",on:{submit:function(e){return e.preventDefault(),t.submitForm.apply(null,arguments)}}},[e(h.A,[e(c.A,{attrs:{cols:"3",sm:"2"}},[e(C.A,{attrs:{items:["Mr","Ms","Mrs"],label:"Title",required:"","hide-details":"auto"},model:{value:t.userDetails.title,callback:function(e){t.$set(t.userDetails,"title",e)},expression:"userDetails.title"}})],1),e(c.A,[e(x.A,{attrs:{label:"Nome e Cognome","hide-details":"auto",required:""},model:{value:t.userDetails.nome,callback:function(e){t.$set(t.userDetails,"nome",e)},expression:"userDetails.nome"}})],1)],1),e(x.A,{attrs:{dense:"",label:"Email","hide-details":"auto",required:""},model:{value:t.userDetails.email,callback:function(e){t.$set(t.userDetails,"email",e)},expression:"userDetails.email"}}),e(h.A,[e(c.A,{attrs:{cols:"7"}},[e(x.A,{attrs:{dense:"",label:"Telefono","hide-details":"auto",required:""},model:{value:t.userDetails.telefono,callback:function(e){t.$set(t.userDetails,"telefono",e)},expression:"userDetails.telefono"}})],1),e(c.A,[e(x.A,{attrs:{dense:"",label:"CAP Rezisdenza","hide-details":"auto",required:""},model:{value:t.userDetails.cap,callback:function(e){t.$set(t.userDetails,"cap",e)},expression:"userDetails.cap"}})],1)],1),e(x.A,{attrs:{dense:"",label:"Note","hide-details":"auto",autogrow:""}})],1),e(h.A,{staticClass:"no-gutters my-2"},[e(c.A,{attrs:{cols:"6"}},[e(r.A,{staticClass:"mr-sm-3 mr-2",attrs:{flat:"",outlined:""}},t._l(t.extraItems,(function(s,a){return e(A.A,{key:a,staticClass:"ma-0",attrs:{dense:"",label:s.label},model:{value:s.value,callback:function(e){t.$set(s,"value",e)},expression:"item.value"}})})),1)],1),e(c.A,{attrs:{cols:"6"}},[e(r.A,{attrs:{flat:"",outlined:""}},t._l(t.specialThings,(function(s,a){return e(A.A,{key:a,staticClass:"ma-0",attrs:{dense:"",label:s.label},model:{value:s.value,callback:function(e){t.$set(s,"value",e)},expression:"item.value"}})})),1)],1)],1),e(A.A,{attrs:{"hide-details":"auto",label:"Do you want to subscribe to our promotions?"},model:{value:t.subscribePromotions,callback:function(e){t.subscribePromotions=e},expression:"subscribePromotions"}})],1),e(k.A,[e("p",[t._v("some frequently asked questions.")])]),e(k.A,[e("p",[t._v("Information about parking.")])]),e(k.A,[e("p",[t._v("Navigation instructions and maps.")])])],1)],1)},O=[],P={name:"informationTabsComponent",data(){return{tab:null,userDetails:{nome:"",email:"",telefono:""},extraItems:{senzaGluten:{value:!1,label:"Senza Glutine"},senzaLattosio:{value:!1,label:"Senza Lattosio"},vegan:{value:!1,label:"Cibi Vegetarini"},sunio:{value:!1,label:"No carne Sunia"}},specialThings:{birthday:{value:!1,label:"Portero torta "},pets:{value:!1,label:"Presenza Cane"},bambino:{value:!1,label:"Bambino in carrozina"},seggiolino:{value:!1,label:"Seggiolino"}},subscribePromotions:!1}},methods:{submitForm(){console.log("Form submitted"),console.log("User Details:",this.userDetails),this.$emit("submit")}}},I=P,N=s(1656),L=(0,N.A)(I,w,O,!1,null,"56e46989",null),E=L.exports,M=function(){var t=this,e=t._self._c;return e("div",{staticClass:"calendar-container"},[e("div",{staticClass:"calendar-header"},[e(m.A,{on:{click:t.prevMonth}},[t._v("mdi-chevron-left")]),e("h4",[t._v(t._s(t.monthNames[t.currentMonth])+" "+t._s(t.currentYear))]),e(m.A,{on:{click:t.nextMonth}},[t._v("mdi-chevron-right")])],1),e("div",{staticClass:"calendar-grid"},[t._l(t.weekDays,(function(s){return e("div",{key:s,staticClass:"calendar-day header"},[e("span",[t._v(t._s(s))])])})),t._l(t.days,(function(s,a){return e("div",{key:a,staticClass:"calendar-day"},[e("button",{class:["day-content",{"d-none":!s.date},{outside:s.outside},{"disabled-day":t.isDisabledDay(s.date)||t.isPastDay(s.date)||!s.enabled},{"selected-day":t.isSelectedDay(s.date)}],on:{click:function(e){!t.isDisabledDay(s.date)&&!t.isPastDay(s.date)&&t.handleDayClick(s.date)}}},[e("span",[t._v(t._s(s.date?s.date?.getDate():""))]),t.dateHasPromotion(s.date)?e("span",{staticClass:"promotion-label"},[t._v(" "+t._s(t.getPromotionText(s.date))+" ")]):t._e()])])}))],2)])},j=[],B=(s(4114),{name:"TheCalendar",props:{onDayClick:{type:Function,required:!0},showOutsideDays:{type:Boolean,default:!0},eventDays:{type:Array,default:()=>[]},disabledDays:{type:Array,default:()=>[]},enabledDays:{type:Array,default:()=>[]}},data(){return{currentYear:(new Date).getFullYear(),currentMonth:(new Date).getMonth(),days:[],automaticallyDisabledDays:[],monthNames:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],weekDays:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],selectedDate:null}},created(){this.updateDays()},methods:{updateDays(){this.days=this.generateDays(this.currentYear,this.currentMonth)},isDateEnabled(t){return!this.enabledDays.length||this.enabledDays.includes(t?.toLocaleDateString("it-IT"))},generateDays(t,e){const s=[],a=new Date(t,e,1),n=new Date(t,e+1,0),i=n?.getDate();if(this.showOutsideDays)for(let o=a.getDay();o>0;o--)s.unshift({date:new Date(t,e,1-o),outside:!0});else for(let o=0;o<a.getDay();o++)s.push({date:null,outside:!0});for(let o=1;o<=i;o++)s.push({date:new Date(t,e,o),outside:!1,enabled:this.isDateEnabled(new Date(t,e,o))});if(this.showOutsideDays){const a=s.length,n=42-a;for(let i=1;i<=n;i++)s.push({date:new Date(t,e+1,i),outside:!0})}else{const t=s.length,e=35-t;for(let a=1;a<=e;a++)s.push({date:null,outside:!0})}return s},dateHasPromotion(t){if(null===t)return!1;const e=t.toLocaleDateString("it-IT");return this.eventDays.some((t=>{const s=new Date(t.date).toLocaleDateString("en-GB");return s===e}))},getPromotionText(t){if(null===t)return!1;const e=t.toLocaleDateString("it-IT"),s=this.eventDays.find((t=>{const s=new Date(t.date).toLocaleDateString("it-IT");return s===e}));return s?s.promotionText:""},isDisabledDay(t){return this.disabledDays.includes(t?.toLocaleDateString("it-IT"))},nextMonth(){11===this.currentMonth?(this.currentYear++,this.currentMonth=0):this.currentMonth++,this.updateDays()},prevMonth(){0===this.currentMonth?(this.currentYear--,this.currentMonth=11):this.currentMonth--,this.updateDays()},isPastDay(t){const e=new Date;return e.setHours(0,0,0,0),t<e},isSelectedDay(t){return t?.getTime()===this.selectedDate?.getTime()},handleDayClick(t){this.isPastDay(t)||this.isDisabledDay(t)||(this.selectedDate=t,this.onDayClick(t))}}}),q=B,z=(0,N.A)(q,M,j,!1,null,"1c79f0b8",null),F=z.exports,$=s(4335);const Y={async authenticate(t){const e=localStorage.getItem("customerId"),s="bellavida.ibookrestaurant.com",a=JSON.stringify({action:"Authenticate",payload:{customerId:e,bookingId:t,hostname:s}});try{const t=await $.A.post("https://aibooking.cloud/ajax/booking/selam.php",a);if("0"===t.data.errorid){document.title=t.data.payloads.settings.brand;const e=t.data.payloads.customer;e&&e.customerId&&localStorage.setItem("customerId",e.customerId);const s={customer:e,expired:t.data.payloads.expired,faqs:t.data.payloads.faqs??null,requests:t.data.payloads.requests||[],foodStyles:t.data.payloads.foodStyles||[],meals:t.data.payloads.meals??null,booking:{date:t.data.payloads.bookableDays[0].date,...t.data.payloads.currentBooking||{}},locations:t.data.payloads.locations??null,bookableDays:t.data.payloads.bookableDays,settings:t.data.payloads.settings,currentBooking:t.data.payloads.currentBooking,WAVerification:!!t.data.payloads.currentBooking||e.WASent,newsletter:t.data.payloads.newsletter,gender:t.data.payloads.currentBooking?t.data.payloads.currentBooking.gender:e.gender,birthdate:e?e.birthdate:null};return{loading:!1,result:s,error:null}}if("0006"===t.data.errorid)return{loading:!1,result:null,error:"unknown"}}catch(n){return console.error("Error during authentication:",n),{loading:!1,result:null,error:n.message}}}};var R=Y;const G={DISPONIBLE:"Disponible",POSTI_ESAURITI:"Posti Esauriti",LISTA_D_ATTESA:"Lista d'attesa",NON_DISPONIBLE:"Non Disponible"};var H={name:"BookingPage",data(){return{step:1,selectedDate:null,minDate:(new Date).toISOString().substr(0,10),maxDate:new Date((new Date).setMonth((new Date).getMonth()+3)).toISOString().substr(0,10),lunchTimes:[],dinnerTimes:[],numberOfPersons:Array.from({length:16},((t,e)=>e+1)),numberOfChildren:Array.from({length:5},((t,e)=>e)),steps:[{step:1,icon:"mdi-calendar-month-outline",label:"Data",value:""},{step:2,icon:"mdi-account-outline",label:"Persone",value:""},{step:3,icon:"mdi-clock-outline",label:"Orario",value:""},{step:4,icon:"mdi-information-outline",label:"Dati Prenotazione",value:""}],completedSteps:new Set,bookingId:"",booking:{date:null,mealId:null,optIn:!1,newsletter:!1,gender:null,birthdate:null},locations:null,bookableDays:[],enabledDays:[],selectedLocation:null,selectedChildren:0}},watch:{step(t){this.resetStepsAfter(t)}},components:{informationTabsComponent:E,theCalender:F},methods:{goToStep(t){(this.isStepComplete(t-1)||1===t)&&(this.step=t)},completeStep(t){this.completedSteps.add(t),this.step++},isStepComplete(t){return this.completedSteps.has(t)},resetStepsAfter(t){this.steps.forEach((e=>{e.step>t&&(e.value=null,this.completedSteps.delete(e.step))}))},submitForm(){console.log("Form submitted")},generateTimeSlots(t,e,s,a,n){return Array.from({length:s},((s,i)=>{const o=new Date(2024,5,1,t,e);return o.setMinutes(o.getMinutes()+i*a),{time:o.toLocaleTimeString("it-IT",{hour:"2-digit",minute:"2-digit"}),status:n||G.DISPONIBLE}}))},onDateChange(t){const e=this.bookableDays.find((e=>e.date===t.toLocaleDateString("it-IT")));e.isLUNCH_OPEN&&(this.lunchTimes=this.generateTimeSlots(12,0,6,30)),e.isDINNER_OPEN&&(this.dinnerTimes=this.generateTimeSlots(19,0,6,30)),t=new Date(t).toLocaleDateString("it-IT",{day:"numeric",month:"short"}),this.steps[0].value=t,this.completeStep(1),this.goToStep(2)},getStatusClass(t){switch(t){case G.DISPONIBLE:return"status-disponible";case G.POSTI_ESAURITI:return"status-posti-esauriti";case G.LISTA_D_ATTESA:return"status-lista-d-attesa";case G.NON_DISPONIBLE:return"status-non-disponible";default:return""}},selectTime(t){this.steps[2].value=t.time,this.completeStep(3),this.goToStep(4)},isSelectedTime(t){return this.steps[2].value===t},isSelectedNumberOfPersons(t){return this.steps[1].value===t+" persone"},selectNumberOfPersons(t){this.steps[1].value=t+" persone",this.completeStep(2),this.goToStep(4)},selectNumberOfChildren(t){this.selectedChildren=t},isSelectedNumberOfChildren(t){return this.selectedChildren===t},selectLocation(t){this.selectedLocation=t},isSelectedLocation(t){return this.selectedLocation===t},updateEnabledDays(){this.enabledDays=this.bookableDays.map((t=>t.date))},async authenticate(){const{result:t,error:e}=await R.authenticate(this.bookingId);if(e)return console.log(e),e;{const{locations:e,bookableDays:s,settings:a}=t;return{locations:e,bookableDays:s,settings:a}}}},async created(){const{bookableDays:t,locations:e,settings:s}=await this.authenticate();this.numberOfPersons=Array.from({length:s?.options?.maxBookableCovers},((t,e)=>e+1)),this.bookableDays=t.filter((t=>t.isDAY_OPEN)).map((t=>({date:new Date(t?.date).toLocaleDateString("it-IT"),isDINNER_OPEN:t.isDINNER_OPEN,isLUNCH_OPEN:t.isLUNCH_OPEN}))),this.locations=e,this.updateEnabledDays()}},U=H,V=(0,N.A)(U,v,D,!1,null,"de730950",null),W=V.exports,J={name:"App",components:{BookingPage:W},data:()=>({})},Q=J,K=(0,N.A)(Q,i,o,!1,null,null,null),X=K.exports,Z=s(3668);a.Ay.use(Z.A);var tt=new Z.A({theme:{themes:{light:{primary:"#000",secondary:"#fff",accent:"rgb(238, 246, 245)",error:"#b71c1c"}}}});a.Ay.config.productionTip=!1,new a.Ay({vuetify:tt,render:t=>t(X)}).$mount("#app")},4137:function(t,e,s){t.exports=s.p+"img/tamashiBookingImage.6ec7231b.jpg"}},e={};function s(a){var n=e[a];if(void 0!==n)return n.exports;var i=e[a]={exports:{}};return t[a].call(i.exports,i,i.exports,s),i.exports}s.m=t,function(){var t=[];s.O=function(e,a,n,i){if(!a){var o=1/0;for(u=0;u<t.length;u++){a=t[u][0],n=t[u][1],i=t[u][2];for(var l=!0,r=0;r<a.length;r++)(!1&i||o>=i)&&Object.keys(s.O).every((function(t){return s.O[t](a[r])}))?a.splice(r--,1):(l=!1,i<o&&(o=i));if(l){t.splice(u--,1);var c=n();void 0!==c&&(e=c)}}return e}i=i||0;for(var u=t.length;u>0&&t[u-1][2]>i;u--)t[u]=t[u-1];t[u]=[a,n,i]}}(),function(){s.d=function(t,e){for(var a in e)s.o(e,a)&&!s.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){s.p="/table_reservation/"}(),function(){var t={524:0};s.O.j=function(e){return 0===t[e]};var e=function(e,a){var n,i,o=a[0],l=a[1],r=a[2],c=0;if(o.some((function(e){return 0!==t[e]}))){for(n in l)s.o(l,n)&&(s.m[n]=l[n]);if(r)var u=r(s)}for(e&&e(a);c<o.length;c++)i=o[c],s.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return s.O(u)},a=self["webpackChunktable_reservation"]=self["webpackChunktable_reservation"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=s.O(void 0,[504],(function(){return s(1438)}));a=s.O(a)})();
//# sourceMappingURL=app.119b03d1.js.map